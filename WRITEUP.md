# CarND-Capstone
Self-Driving Car Engineer Nanodegree Program
## Notes to reviewer 
   
## Traffic Light Detection


## Waypoints Updater


## DBW_Node

### Overview

Dbw\_node subscribes from three topic ```/vehicle/dbw_enabled```, ```/twist_cmd``` and ```/current_velocity```. ```/vehicle/dbw_enabled``` tells whether the car is controlled by dbw\_node or not. ```/twist_cmd``` tells proposed linear and yaw velocity by waypoints\_updater. ```/current_velocity``` tells the car's current linear and yaw velocity.
What dbw\_node is trying to do is to generate throttle, brake and steer command and publish them to the vehicle.

```throttle``` and ```brake``` are generated by PID controller, LowPass filter is used to smooth ```throttle``` and ```brake```, preventing jerks. Detail would be decribed at a separate parts about PID and LowPass filter.

```steer``` command is generated with the help of yaw_controller provided by udacity in start repo. 

As to code part, ```dbw_node.py``` was collecting data from subscribed topic and publishing ```throttle/brake/steer``` command to vehicle. ```twist_controller.py``` was the main file processing the controlling logic. ```pid.py```, ```lowpass.py``` and ```yaw_controller.py``` was provided by udacity for PID controller, LowPass filter and steer command. 

### PID Controller

Code in ```pid.py``` was not changed at all. Appropriate parameters was used to create PID controller. In our implementation, we use ```kp=0.7```, ```ki=0.0007``` and ```kd=0.1```. 

At the beginning, the parameters was chosen based on the following prior knowledge, 

1) kp controls current error, the car should fix current error in time, so a big value for kp should be reasonable. We want the throttle to be 1.0 if the current error is bigger than 2m/s. So values from 0.5~1.0 would be good.

2) ki controls cumulated errors, we want to fix the cumulated error but a reasonable long time would be ok, so a small value was chosen.

3) kd controls differential value of errors, with a reasonable big values would prevent jerks, but should not exceed kp because current error always plays the important role.

At the second phase, we tuned the parameters to make the car stop and move in time.     

### LowPass Filter

LowPass filter was used to smooth ```throttle``` and ```brake``` values. We managed to use 2/3 current value and 1/3 previous values by setting ```ts=0.2``` and ```tau=0.1```. The values works well with simulator.

## Team Information
Team Name: Smart Blocks

Team Lead: Faisal Khan (faisal.nust@gmail.com)

Team Member: Sundeep Tuteja (sundeeptuteja@gmail.com), Rowen Wang (wangjl_sdu@hotmail.com), Tiezheng Zhao (zhaotzheng@gmail.com), Stephen Horton (stevehorton47@gmail.com)
 